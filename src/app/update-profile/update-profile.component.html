<!-- Header Row -->
<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: black;">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          {{username}}
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" routerLink="/updateProfile" routerLinkActive="active">Profile</a>
          <a class="dropdown-item" routerLink="/takeQuiz" routerLinkActive="active">Take Quiz</a>
          <a class="dropdown-item" routerLink="/logout" routerLinkActive="active">Logout</a>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/searchPage" routerLinkActive="active">Home</a>
      </li>
    </ul>
  </div>
</nav>
<!-- End Header Row -->
<br/><br/>
<!-- Start Profile Update Section -->
<div class="row">
  <div class="container">
    <div class="card shadow p-3 mb-5 rounded">
      <!-- ROW 1: Title Row -->
      <div class="row">
        <div class="col-md-12 col-sm-12">
          <h2 style="text-align: center;">Edit Profile</h2>
          <div class="alert alert-success" role="alert" *ngIf="respMsg">
            {{respMsg}}
          </div>
          <div class="alert alert-danger" role="alert" *ngIf="errorMsg">
            {{errorMsg}}
          </div>
        </div>
      </div>
      <!-- ROW 2: Update Profile Form -->
      <div class="row">
        <div class="col-md-12 col-sm-12">
          <form #updateProfileForm="ngForm" id="updateProfileForm" class="updateProfileForm" 
          accept-charset="UTF-8" ngNativeValidate (ngSubmit)="updateProfile(updateProfileForm)" *ngIf="user">

            <div class="form-row">
              <div class="form-group col-md-12">
                <h5>Wallet Details: </h5>
              </div>
            </div>

            <!-- Form Row 0 -->
            <div class="form-row">
              <div class="form-group col-md-4">
                Current Balance:
              </div>
              <div class="form-group col-md-4">
                {{user.balance}}
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-md-12">
                <h5>Personal Details: </h5>
              </div>
            </div>

            <!-- Form Row 1 -->
            <div class="form-row">
              <!-- Name Field -->
              <div class="form-group col-md-4">
                <label for="name">Name: </label>
                <input type="text" class="form-control" id="name" name="user.name" [(ngModel)]="user.name" >
              </div>
              <!-- Password Field -->
              <div class="form-group col-md-4">
                <label for="password">Password: </label>
                <input type="password" class="form-control" id="password" name="user.password" [(ngModel)]="user.password" >
              </div>
              <!-- Phone Number Field -->
              <div class="form-group col-md-4">
                <label for="contact">Contact: </label>
                <input type="number" class="form-control" id="contact" name="user.phone" [(ngModel)]="user.phone" >
              </div>
            </div>

            <!-- Form Row 2 -->
            <div class="form-row">
              <!-- City Field -->
              <div class="form-group col-md-4">
                <label for="city">City: </label>
                <input type="text" class="form-control" id="city" name="user.city" [(ngModel)]="user.city" >
              </div>
              <!-- State Field -->
              <div class="form-group col-md-4">
                <label for="state">State: </label>
                <input type="text" class="form-control" id="state" name="user.state" [(ngModel)]="user.state" >
              </div>
              <!-- Country Field -->
              <div class="form-group col-md-4">
                <label for="country">Country: </label>
                <input type="text" class="form-control" id="country" name="user.country" [(ngModel)]="user.country" >
              </div>
            </div>

            <div class="form-row">
              <div class="form-group col-md-12">
                <h5>Academic Details: </h5>
              </div>
            </div>

            <!-- Form Row 3 -->
            <div class="form-row">
                <table class="table table-striped table-bordered">
                  <thead>
                      <tr>
                          <th>Degree</th>
                          <th>Current Role</th>
                          <th>Institute Name</th>
                          <th>Institute City</th>
                          <th>Start Date</th>
                          <th>End Date</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let degree of degrees; let i = index">
                          <td>
                            <input [(ngModel)]="degree.name" class="form-control" type="text" name="{{degree.name}}" />
                          </td>
                          <td>
                            <select [(ngModel)]="degree.role" class="form-control" name="{{degree.role}}">
                              <option value="Student">Student</option>
                              <option value="Developer">Developer</option>
                              <option value="Researcher">Researcher</option>
                            </select>
                          </td>
                          <td>
                            <input [(ngModel)]="degree.institute_name" class="form-control" type="text" name="{{degree.institute_name}}" />
                          </td>
                          <td>
                            <input [(ngModel)]="degree.institute_city" class="form-control" type="text" name="{{degree.institute_city}}" />
                          </td>
                          <td>
                            <input [(ngModel)]="degree.start_date" class="form-control" type="text" name="{{degree.start_date}}" placeholder="MM/YY"/>
                          </td>
                          <td>
                            <input [(ngModel)]="degree.end_date" class="form-control" type="text" name="{{degree.end_date}}" placeholder="MM/YY"/>
                          </td>
                          <td>
                            <button class="btn custom-btn" style="color: black;" type="button" (click)="deleteFieldValue(i)">Delete</button>
                          </td>
                      </tr>
                      <tr>
                        <td>
                          <input class="form-control" type="text" id="newDegreeName" name="newDegree.name" [(ngModel)]="newDegree.name" />
                        </td>
                        <td>
                          <select name="newDegree.role" [(ngModel)]="newDegree.role" class="form-control" >
                            <option value="Student">Student</option>
                            <option value="Developer">Developer</option>
                            <option value="Researcher">Researcher</option>
                          </select>
                        </td>
                        <td>
                          <input class="form-control" type="text" name="newDegree.institute_name" [(ngModel)]="newDegree.institute_name" />
                        </td>
                        <td>
                          <input class="form-control" type="text" [(ngModel)]="newDegree.institute_city" name="newDegree.institute_city" />
                        </td>
                        <td>
                          <input [(ngModel)]="newDegree.start_date" class="form-control" type="text" name="newDegree.start_date" placeholder="MM/YY" />
                        </td>
                        <td>
                          <input [(ngModel)]="newDegree.end_date" class="form-control" type="text" name="newDegree.end_date" placeholder="MM/YY" />
                        </td>
                        <td>
                          <button class="btn custom-btn" id="addDegree" style="color: black;" type="button" (click)="addFieldValue()">Add</button>
                        </td>
                      </tr>
                  </tbody>
              </table>
            </div>

            <div class="form-row">
              <div class="form-group col-md-12">
                <h5>Courses Details: </h5>
              </div>
            </div>

            <!-- Form Row 4 -->
            <div class="form-row">
                <table class="table table-striped table-bordered" style="margin: 2px;">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Online/Offline?</th>
                      <th>Domain</th>
                      <th>Institute/Platform</th>
                      <th>Rating (/10)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let course of coursesArray; let j = index">
                      <td>
                        <input [(ngModel)]="course.title" class="form-control" type="text" name="{{course.title}}" />
                      </td>
                      <td>
                        <select [(ngModel)]="course.mode" class="form-control" name="{{course.mode}}" >
                          <option value="online">Online</option>
                          <option value="offline">Off-line</option>
                        </select>
                      </td>
                      <td>
                        <input class="form-control" id="myInput" type="text" placeholder="Domain" 
                        name="{{course.domain}}" [(ngModel)]="course.domain" (ngModelChange)="autoSuggest()" >
                      </td>
                      <td>
                        <input [(ngModel)]="course.platform" class="form-control" type="text" name="{{course.platform}}" />
                      </td>
                      <td>
                        <input [(ngModel)]="course.rating" class="form-control" type="text" name="{{course.rating}}" />
                      </td>
                      <td>
                        <button class="btn custom-btn" style="color: black;" type="button" (click)="deleteCourse(j)">Delete</button>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <input class="form-control" type="text" [(ngModel)]="newCourse.title" name="newCourse.title" />
                      </td>
                      <td>
                        <select [(ngModel)]="newCourse.mode" class="form-control" name="newCourse.mode" >
                          <option value="online">Online</option>
                          <option value="offline">Off-line</option>
                        </select>
                      </td>
                      <td>
                        <input id="myInput1" class="form-control" type="text" placeholder="Domain" 
                        name="newCourse.domain" [(ngModel)]="newCourse.domain" (ngModelChange)="autoSuggest1()" >
                      </td>
                      <td>
                        <input [(ngModel)]="newCourse.platform" class="form-control" type="text" name="newCourse.platform"  />
                      </td>
                      <td>
                          <input [(ngModel)]="newCourse.rating" class="form-control" type="text" name="newCourse.rating" />
                      </td>
                      <td>
                        <button class="btn custom-btn" id="addCourse" style="color: black;" type="button" (click)="addCourse()">Add</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
            </div>

            <div class="form-row">
              <div class="form-group col-md-12">
                <h5>Interests: </h5>
              </div>
            </div>

            <!-- Form Row 5 -->
            <div class="form-row">
              <!-- Domain Field -->
              <div class="form-group col-md-6">
                <label for="domain">Domain you're interested in: </label>
                <input id="myInput2" class="form-control" type="text" name="myCountry2" placeholder="Domain" 
                name="{{interests.domain}}" [(ngModel)]="interests.domain" (ngModelChange)="autoSuggest2()" >
              </div>
              <!-- State Field -->
              <div class="form-group col-md-6">
                <label for="role">Role you want to pursue in the future: </label>
                <input class="form-control" type="text" name="interests.goal" placeholder="Future Goal" 
                  name="{{interests.goal}}" [(ngModel)]="interests.goal" >
              </div>
            </div>

            <!-- Form Row 6 -->
            <div class="form-row">
              <div class="form-group col-md-4">

              </div>
              <div class="form-group col-md-4" style="text-align: center;">
                <button type="submit" style="color:black;" class="btn btn-primary">Submit</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button type="reset" style="color:black;" class="btn btn-primary">Reset</button>
              </div>
              <div class="form-group col-md-4">

              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Profile Update Section -->